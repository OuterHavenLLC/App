<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>Local Databases</title>
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
  <meta name="author" content="Mike"/>
  <meta name="description" content="A Demo for the storage and retrieval of local, encrypted data-at-rest."/>
  <meta name="keywords" content="Outer, Haven, Slide, Show"/>
  <meta property="og:description" content="A Demo consisting of a slide show, driven by loally stored data."/>
  <meta property="og:type" content="article"/>
  <meta property="og:title" content="Local Databases"/>
  <meta property="og:url" content="https://outerhaven.nyc/"/>
  <link href="https://outerhaven.nyc/?_API=Design" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://outerhaven.nyc/favicon.png" rel="shortcut icon" size="196x196" type="image/png"/>
  <script src="https://outerhaven.nyc/base/jq.js" type="text/javascript"></script>
  <script src="https://outerhaven.nyc/base/jq-UI.js" type="text/javascript"></script>
  <script src="https://outerhaven.nyc/?_API=JS&v=Cypher" type="text/javascript"></script>
  <script src="https://outerhaven.nyc/?_API=JS&v=Cypher2" type="text/javascript"></script>
  <script src="https://outerhaven.nyc/?_API=JS&v=Client" type="text/javascript"></script>
  <script src="https://outerhaven.nyc/?_API=JS&v=Chart" type="text/javascript"></script>
 </head>
 <body>
  <div class="Boot NOSELECT"></div>
  <button class="TopHome" onclick="window.location='http://outerhaven.nyc';"></button>
  <div class="Content scr">
   <div class="TopBarMargin"></div>
   <div class="CoverPhoto">
    <div class="Desktop75 MobileFull">
     <h1 class="UpperCase">Local Databases</h1>
    </div>
   </div>
   <div class="Desktop75 MobileFull">
    <div class="Demo FrostedBright RoundedLarge ShadowedLarge">
     <p>Creating local database...</p>
    </div>
   </div>
  </div>
  <script>
$(document).ready(function() {
    const db = new Database("OuterHaven", 1),
              Multiple = [
               {
                Data: AESencrypt("Data"),
                ID: "Extension2"
               },
               {
                Data: AESencrypt("Data"),
                ID: "Extension3"
               },
               {
                Data: AESencrypt("Data"),
                ID: "Extension4"
               },
               {
                Data: AESencrypt("Data"),
                ID: "Extension5"
               },
               {
                Data: AESencrypt("Data"),
                ID: "Extension6"
               }
             ],
             Single = {
              Data: AESencrypt("Data"),
              ID: "Extension"
             };
    db.open("Extensions").then(() => {
     $(".Demo").append("Saving single extension...");
     return db.save("Extensions", Single);
    }).then(extension => {
     $(".Demo").append("Single extension saved with ID " + extension);
     $(".Demo").append(db.get("Extensions", "Extension2").Data);
    }).then(extension => {
     $(".Demo").append("Retrieved single extension " + extension);
     $(".Demo").append("Saving multiple extensions...");
     return db.saveMultiple("Extensions", Multiple);
    }).then(extensions => {
     $(".Demo").append("Multiple extensions saved with IDs " + extensions);
     $(".Demo").append(db.getAll("Extensions"));
    }).then(allExtensions => {
     $(".Demo").append("All extensions in database: " + allExtensions);
     $(".Demo").append("Total extensions: " + allExtensions.length);
     db.close();
    }).catch(error => {
     $(".Demo").append("Database error: " + error);
     db.close();
    });
   });
  </script>
 </body>
</html>